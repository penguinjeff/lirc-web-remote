<!DOCTYPE html>
<html>
<head>
<script src="js/0utils.js"></script>
<script id="remotes" src="remotes/get_remotes.js"></script>
<script id="displays" src="displays/get_displays.js"></script>
<script id="activities" src="activities/get_activities.js"></script>
<script id="macros" src="macros/get_macros.js"></script>
<script>
var remotes={};
var displays={};
var activites={};
var macros={};

function refresh()
{
 remotes=refresh_item('remotes');
 displays=refresh_item('displays');
 activites=refresh_item('activities');
 macros=refresh_item('macros');
}

function refresh_item(tag)
{
 console.log(tag+':');
 var item=document.getElementById(tag);
 item.remove;

 document.head.appendChild(createElement({'tag':'script','src':tag+'/get_'+tag+'.js?ts'+Date.now()}));
 var items=window['get_'+tag]();
 console.log(items);
 return items;
}

window.addEventListener('load', function () {
 refresh();
})

</script>
</head>
<body>
<input type="button" onclick="refresh()" value="refresh">
</body>
</html>

